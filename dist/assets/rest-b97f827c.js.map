{"version":3,"file":"rest-b97f827c.js","sources":["../../node_modules/ra-data-simple-rest/node_modules/decode-uri-component/index.js","../../node_modules/ra-data-simple-rest/node_modules/split-on-first/index.js","../../node_modules/ra-data-simple-rest/node_modules/filter-obj/index.js","../../node_modules/ra-data-simple-rest/node_modules/query-string/index.js","../../node_modules/ra-data-simple-rest/dist/esm/index.js","../../src/dataProvider/rest.ts"],"sourcesContent":["'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp('(' + token + ')|([^%]+?)', 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn [decodeURIComponent(components.join(''))];\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher) || [];\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher) || [];\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\nmodule.exports = function (obj, predicate) {\n\tvar ret = {};\n\tvar keys = Object.keys(obj);\n\tvar isArr = Array.isArray(predicate);\n\n\tfor (var i = 0; i < keys.length; i++) {\n\t\tvar key = keys[i];\n\t\tvar val = obj[key];\n\n\t\tif (isArr ? predicate.indexOf(key) !== -1 : predicate(key, val, obj)) {\n\t\t\tret[key] = val;\n\t\t}\n\t}\n\n\treturn ret;\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\nconst filterObject = require('filter-obj');\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nconst encodeFragmentIdentifier = Symbol('encodeFragmentIdentifier');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'colon-list-separator':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), ':list='].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), ':list=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\tcase 'bracket-separator': {\n\t\t\tconst keyValueSep = options.arrayFormat === 'bracket-separator' ?\n\t\t\t\t'[]=' :\n\t\t\t\t'=';\n\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\t// Translate null to an empty string so that it doesn't serialize as 'null'\n\t\t\t\tvalue = value === null ? '' : value;\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), keyValueSep, encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\t\t}\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'colon-list-separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(:list)$/.exec(key);\n\t\t\t\tkey = key.replace(/:list$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tcase 'bracket-separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = /(\\[\\])$/.test(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!isArray) {\n\t\t\t\t\taccumulator[key] = value ? decode(value, options) : value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst arrayValue = value === null ?\n\t\t\t\t\t[] :\n\t\t\t\t\tvalue.split(options.arrayFormatSeparator).map(item => decode(item, options));\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = arrayValue;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], arrayValue);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(query, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn ret;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of query.split('&')) {\n\t\tif (param === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator', 'bracket-separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tif (value.length === 0 && options.arrayFormat === 'bracket-separator') {\n\t\t\t\treturn encode(key, options) + '[]';\n\t\t\t}\n\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (url, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url_, hash] = splitOnFirst(url, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url_.split('?')[0] || '',\n\t\t\tquery: parse(extract(url), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (object, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\t[encodeFragmentIdentifier]: true\n\t}, options);\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(object.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\n\n\tconst query = Object.assign(parsedQueryFromUrl, object.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(object.url);\n\tif (object.fragmentIdentifier) {\n\t\thash = `#${options[encodeFragmentIdentifier] ? encode(object.fragmentIdentifier, options) : object.fragmentIdentifier}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n\nexports.pick = (input, filter, options) => {\n\toptions = Object.assign({\n\t\tparseFragmentIdentifier: true,\n\t\t[encodeFragmentIdentifier]: false\n\t}, options);\n\n\tconst {url, query, fragmentIdentifier} = exports.parseUrl(input, options);\n\treturn exports.stringifyUrl({\n\t\turl,\n\t\tquery: filterObject(query, filter),\n\t\tfragmentIdentifier\n\t}, options);\n};\n\nexports.exclude = (input, filter, options) => {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn exports.pick(input, exclusionFilter, options);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { stringify } from 'query-string';\nimport { fetchUtils } from 'ra-core';\n/**\n * Maps react-admin queries to a simple REST API\n *\n * This REST dialect is similar to the one of FakeRest\n *\n * @see https://github.com/marmelab/FakeRest\n *\n * @example\n *\n * getList     => GET http://my.api.url/posts?sort=['title','ASC']&range=[0, 24]\n * getOne      => GET http://my.api.url/posts/123\n * getMany     => GET http://my.api.url/posts?filter={id:[123,456,789]}\n * update      => PUT http://my.api.url/posts/123\n * create      => POST http://my.api.url/posts\n * delete      => DELETE http://my.api.url/posts/123\n *\n * @example\n *\n * import * as React from \"react\";\n * import { Admin, Resource } from 'react-admin';\n * import simpleRestProvider from 'ra-data-simple-rest';\n *\n * import { PostList } from './posts';\n *\n * const App = () => (\n *     <Admin dataProvider={simpleRestProvider('http://path.to.my.api/')}>\n *         <Resource name=\"posts\" list={PostList} />\n *     </Admin>\n * );\n *\n * export default App;\n */\nexport default (function (apiUrl, httpClient, countHeader) {\n    if (httpClient === void 0) { httpClient = fetchUtils.fetchJson; }\n    if (countHeader === void 0) { countHeader = 'Content-Range'; }\n    return ({\n        getList: function (resource, params) {\n            var _a = params.pagination, page = _a.page, perPage = _a.perPage;\n            var _b = params.sort, field = _b.field, order = _b.order;\n            var rangeStart = (page - 1) * perPage;\n            var rangeEnd = page * perPage - 1;\n            var query = {\n                sort: JSON.stringify([field, order]),\n                range: JSON.stringify([rangeStart, rangeEnd]),\n                filter: JSON.stringify(params.filter),\n            };\n            var url = \"\".concat(apiUrl, \"/\").concat(resource, \"?\").concat(stringify(query));\n            var options = countHeader === 'Content-Range'\n                ? {\n                    // Chrome doesn't return `Content-Range` header if no `Range` is provided in the request.\n                    headers: new Headers({\n                        Range: \"\".concat(resource, \"=\").concat(rangeStart, \"-\").concat(rangeEnd),\n                    }),\n                }\n                : {};\n            return httpClient(url, options).then(function (_a) {\n                var headers = _a.headers, json = _a.json;\n                if (!headers.has(countHeader)) {\n                    throw new Error(\"The \".concat(countHeader, \" header is missing in the HTTP Response. The simple REST data provider expects responses for lists of resources to contain this header with the total number of results to build the pagination. If you are using CORS, did you declare \").concat(countHeader, \" in the Access-Control-Expose-Headers header?\"));\n                }\n                return {\n                    data: json,\n                    total: countHeader === 'Content-Range'\n                        ? parseInt(headers.get('content-range').split('/').pop(), 10)\n                        : parseInt(headers.get(countHeader.toLowerCase())),\n                };\n            });\n        },\n        getOne: function (resource, params) {\n            return httpClient(\"\".concat(apiUrl, \"/\").concat(resource, \"/\").concat(params.id)).then(function (_a) {\n                var json = _a.json;\n                return ({\n                    data: json,\n                });\n            });\n        },\n        getMany: function (resource, params) {\n            var query = {\n                filter: JSON.stringify({ id: params.ids }),\n            };\n            var url = \"\".concat(apiUrl, \"/\").concat(resource, \"?\").concat(stringify(query));\n            return httpClient(url).then(function (_a) {\n                var json = _a.json;\n                return ({ data: json });\n            });\n        },\n        getManyReference: function (resource, params) {\n            var _a;\n            var _b = params.pagination, page = _b.page, perPage = _b.perPage;\n            var _c = params.sort, field = _c.field, order = _c.order;\n            var rangeStart = (page - 1) * perPage;\n            var rangeEnd = page * perPage - 1;\n            var query = {\n                sort: JSON.stringify([field, order]),\n                range: JSON.stringify([(page - 1) * perPage, page * perPage - 1]),\n                filter: JSON.stringify(__assign(__assign({}, params.filter), (_a = {}, _a[params.target] = params.id, _a))),\n            };\n            var url = \"\".concat(apiUrl, \"/\").concat(resource, \"?\").concat(stringify(query));\n            var options = countHeader === 'Content-Range'\n                ? {\n                    // Chrome doesn't return `Content-Range` header if no `Range` is provided in the request.\n                    headers: new Headers({\n                        Range: \"\".concat(resource, \"=\").concat(rangeStart, \"-\").concat(rangeEnd),\n                    }),\n                }\n                : {};\n            return httpClient(url, options).then(function (_a) {\n                var headers = _a.headers, json = _a.json;\n                if (!headers.has(countHeader)) {\n                    throw new Error(\"The \".concat(countHeader, \" header is missing in the HTTP Response. The simple REST data provider expects responses for lists of resources to contain this header with the total number of results to build the pagination. If you are using CORS, did you declare \").concat(countHeader, \" in the Access-Control-Expose-Headers header?\"));\n                }\n                return {\n                    data: json,\n                    total: countHeader === 'Content-Range'\n                        ? parseInt(headers.get('content-range').split('/').pop(), 10)\n                        : parseInt(headers.get(countHeader.toLowerCase())),\n                };\n            });\n        },\n        update: function (resource, params) {\n            return httpClient(\"\".concat(apiUrl, \"/\").concat(resource, \"/\").concat(params.id), {\n                method: 'PUT',\n                body: JSON.stringify(params.data),\n            }).then(function (_a) {\n                var json = _a.json;\n                return ({ data: json });\n            });\n        },\n        // simple-rest doesn't handle provide an updateMany route, so we fallback to calling update n times instead\n        updateMany: function (resource, params) {\n            return Promise.all(params.ids.map(function (id) {\n                return httpClient(\"\".concat(apiUrl, \"/\").concat(resource, \"/\").concat(id), {\n                    method: 'PUT',\n                    body: JSON.stringify(params.data),\n                });\n            })).then(function (responses) { return ({ data: responses.map(function (_a) {\n                    var json = _a.json;\n                    return json.id;\n                }) }); });\n        },\n        create: function (resource, params) {\n            return httpClient(\"\".concat(apiUrl, \"/\").concat(resource), {\n                method: 'POST',\n                body: JSON.stringify(params.data),\n            }).then(function (_a) {\n                var json = _a.json;\n                return ({ data: json });\n            });\n        },\n        delete: function (resource, params) {\n            return httpClient(\"\".concat(apiUrl, \"/\").concat(resource, \"/\").concat(params.id), {\n                method: 'DELETE',\n                headers: new Headers({\n                    'Content-Type': 'text/plain',\n                }),\n            }).then(function (_a) {\n                var json = _a.json;\n                return ({ data: json });\n            });\n        },\n        // simple-rest doesn't handle filters on DELETE route, so we fallback to calling DELETE n times instead\n        deleteMany: function (resource, params) {\n            return Promise.all(params.ids.map(function (id) {\n                return httpClient(\"\".concat(apiUrl, \"/\").concat(resource, \"/\").concat(id), {\n                    method: 'DELETE',\n                    headers: new Headers({\n                        'Content-Type': 'text/plain',\n                    }),\n                });\n            })).then(function (responses) { return ({\n                data: responses.map(function (_a) {\n                    var json = _a.json;\n                    return json.id;\n                }),\n            }); });\n        },\n    });\n});\n//# sourceMappingURL=index.js.map","import simpleRestProvider from \"ra-data-simple-rest\"\n\nconst restProvider = simpleRestProvider(\"http://localhost:4000\")\n\nconst delayedDataProvider = new Proxy(restProvider, {\n  get: (target, name, self) =>\n    name === \"then\" // as we await for the dataProvider, JS calls then on it. We must trap that call or else the dataProvider will be called with the then method\n      ? self\n      : (resource: string, params: any) =>\n          new Promise((resolve) =>\n            setTimeout(\n              () => resolve(restProvider[name as string](resource, params)),\n              500,\n            ),\n          ),\n})\n\nexport default delayedDataProvider\n"],"names":["token","singleMatcher","multiMatcher","decodeComponents","components","split","left","right","__name","decode","input","tokens","i","customDecodeURIComponent","replaceMap","match","result","entries","key","decodeUriComponent","encodedURI","splitOnFirst","string","separator","separatorIndex","filterObj","obj","predicate","ret","keys","isArr","val","strictUriEncode","require$$0","decodeComponent","require$$1","require$$2","filterObject","require$$3","isNullOrUndefined","value","encodeFragmentIdentifier","encoderForArrayFormat","options","index","encode","keyValueSep","parserForArrayFormat","accumulator","isArray","isEncodedArray","newValue","item","arrayValue","validateArrayFormatSeparator","keysSorter","a","b","removeHash","hashStart","getHash","url","hash","extract","queryStart","parseValue","parse","query","formatter","param","k","exports","object","shouldFilter","objectCopy","x","url_","queryFromUrl","parsedQueryFromUrl","queryString","filter","fragmentIdentifier","exclusionFilter","__assign","this","t","s","n","p","simpleRestProvider","apiUrl","httpClient","countHeader","fetchUtils.fetchJson","resource","params","_a","page","perPage","_b","field","order","rangeStart","rangeEnd","stringify","headers","json","_c","id","responses","restProvider","delayedDataProvider","target","name","self","resolve"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}